<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Exchange — DavToUp</title>
<link rel="stylesheet" href="styles.css">
<style>
  /* --- Page base --- */
  body {background:#0b0f1a; color:#e6eef8; font-family:Poppins, sans-serif; padding:20px;}
  h1,h2,h3{margin-bottom:12px;}
  .container{max-width:900px;margin:0 auto;padding:10px;}
  .card{background: linear-gradient(180deg,#0f1724,#1a1f34); padding:20px; border-radius:14px; margin-bottom:20px; box-shadow:0 8px 30px rgba(2,6,23,0.6);}
  label{display:block;margin-bottom:6px;color:#98a0b3;}
  input, select{width:100%; padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); margin-bottom:12px; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); color:#e6eef8;}
  .btn{display:inline-block;padding:10px 16px;background: linear-gradient(90deg,#7C3AED,#06b6d4); border:none; border-radius:12px; color:#fff; font-weight:600; cursor:pointer; transition:0.2s;}
  .btn:hover{opacity:0.85;}
  .result{margin-top:12px; padding:12px; background:rgba(124,58,237,0.1); border-radius:10px; color:#e8f7ff; font-family:monospace;}
  table{width:100%; border-collapse:collapse; margin-top:12px;}
  table th, table td{padding:10px; text-align:left; border-bottom:1px solid rgba(255,255,255,0.1);}
  table th{color:#7C3AED;}
</style>
</head>
<body>

<div class="container">
  <h1>Exchange — DavToUp</h1>
  <p style="color:#98a0b3;">Échangez vos crédits ou monnaies numériques facilement. Remplissez le formulaire ci-dessous pour effectuer un échange.</p>

  <div class="card">
    <h3>Effectuer un échange</h3>
    <form id="exchangeForm">
      <label for="fromCurrency">De (From):</label>
      <select id="fromCurrency" required>
        <option value="">-- Sélectionnez la monnaie --</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="FFPoints">FF Points</option>
      </select>

      <label for="toCurrency">À (To):</label>
      <select id="toCurrency" required>
        <option value="">-- Sélectionnez la monnaie --</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="FFPoints">FF Points</option>
      </select>

      <label for="amount">Montant:</label>
      <input type="number" id="amount" min="1" placeholder="Entrez le montant" required>

      <button type="submit" class="btn">Calculer l’échange</button>
    </form>

    <div id="result" class="result" style="display:none;"></div>
  </div>

  <div class="card">
    <h3>Historique des échanges</h3>
    <table id="historyTable">
      <thead>
        <tr><th>De</th><th>À</th><th>Montant</th><th>Résultat</th></tr>
      </thead>
      <tbody>
        <!-- Entries will appear here -->
      </tbody>
    </table>
  </div>
</div>

<script>
const form = document.getElementById('exchangeForm');
const resultDiv = document.getElementById('result');
const historyTable = document.getElementById('historyTable').querySelector('tbody');

// Exemple de taux de change (statique pour démonstration)
const rates = {
  "USD": {"EUR": 0.93, "FFPoints": 100},
  "EUR": {"USD": 1.08, "FFPoints": 108},
  "FFPoints": {"USD": 0.01, "EUR": 0.0093}
};

form.addEventListener('submit', function(e){
  e.preventDefault();
  const from = document.getElementById('fromCurrency').value;
  const to = document.getElementById('toCurrency').value;
  const amount = parseFloat(document.getElementById('amount').value);

  if(from === to){
    alert("Veuillez choisir deux monnaies différentes.");
    return;
  }
  if(!rates[from] || !rates[from][to]){
    alert("Échange non disponible.");
    return;
  }

  const exchanged = (amount * rates[from][to]).toFixed(2);
  resultDiv.style.display = 'block';
  resultDiv.textContent = `${amount} ${from} = ${exchanged} ${to}`;

  // Ajouter à l'historique
  const row = document.createElement('tr');
  row.innerHTML = `<td>${from}</td><td>${to}</td><td>${amount}</td><td>${exchanged}</td>`;
  historyTable.prepend(row);

  form.reset();
});
</script>

</body>
</html>