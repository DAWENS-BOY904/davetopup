<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Fire TopUp - Dave TopUp</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body {
  font-family: "Poppins", sans-serif;
  margin: 0;
  background: #f9fafb;
  color: #222;
}
header {
  background: white;
  padding: 10px 20px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 5;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
header img { height: 40px; }
.currency-toggle {
  background: #2f855a;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 6px 10px;
  font-size: 13px;
  cursor: pointer;
}
.currency-toggle:hover { background: #276749; }

.cart-wrapper {
  display: flex;
  align-items: center;
  gap: 12px;
}

main {
  margin-top: 90px;
  padding: 20px;
  text-align: center;
}
input, select {
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 6px;
  width: 80%;
  margin: 10px auto;
  display: block;
  font-size: 14px;
}
button, .btn {
  background: #2f855a;
  color: white;
  padding: 10px 15px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 15px;
  transition: background 0.3s ease;
}
button:hover, .btn:hover { background: #276749; }

#playerName {
  font-weight: 600;
  color: #2f855a;
  margin-top: 8px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 20px;
  margin-top: 25px;
}

.card {
  background: white;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  position: relative;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card:hover { transform: translateY(-5px); box-shadow: 0 5px 12px rgba(0,0,0,0.1); }
.card img {
  width: 100%;
  border-radius: 8px;
  height: 120px;
  object-fit: cover;
}
.card h3 { margin: 8px 0; font-size: 16px; }
.card p { font-size: 13px; color: gray; }
.card .info-icon {
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 18px;
  color: #2f855a;
  cursor: pointer;
}

.description {
  max-width: 750px;
  margin: 50px auto;
  font-size: 14px;
  line-height: 1.6;
  color: #444;
  background: #ffffff;
  border-radius: 10px;
  padding: 25px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  text-align: justify;
}

.owner-info {
  background: #2f855a;
  color: white;
  text-align: center;
  padding: 30px 10px;
  margin-top: 40px;
}
.owner-info h3 { margin-bottom: 10px; }
.owner-links {
  display: flex;
  justify-content: center;
  gap: 20px;
  font-size: 22px;
}
.owner-links a {
  color: white;
  transition: 0.3s;
}
.owner-links a:hover { color: #c6f6d5; }

footer {
  background: white;
  padding: 15px;
  text-align: center;
  font-size: 13px;
  color: #555;
  border-top: 1px solid #eee;
}

/* Modal popup */
.modal {
  display: none;
  position: fixed;
  z-index: 10;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.5);
}
.modal-content {
  background-color: #fff;
  margin: 10% auto;
  padding: 20px;
  border-radius: 10px;
  max-width: 400px;
  text-align: center;
  position: relative;
}
.close-btn {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 20px;
  cursor: pointer;
  color: #555;
}
.social-links {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 8px;
}
.social-links a { font-size: 18px; color: #2f855a; transition: 0.3s; }
.social-links a:hover { color: #276749; }

/* Cart styles - centr√© */
.cart-wrapper {
  display: flex;
  align-items: center;
  justify-content: center; /* Mete nan mitan */
  gap: 12px;
  position: relative;
  flex: 1; /* Pou pran tout espas header la */
}

.cart-icon {
  position: relative;
  font-size: 22px;
  color: var(--green);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.cart-count {
  position: absolute;
  top: -6px;
  right: -10px;
  background: red;
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cart-panel {
  position: fixed;
  top: 0;
  right: -420px;
  width: 380px;
  height: 100%;
  background: #fff;
  box-shadow: -3px 0 8px rgba(0,0,0,0.2);
  transition: right 0.3s ease;
  z-index: 2000;
  display: flex;
  flex-direction: column;
}

.cart-panel.active { right: 0; }

.cart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  border-bottom: 1px solid #ddd;
}

.cart-header h3 { margin: 0; font-size: 18px; }

.cart-items { flex:1; overflow-y:auto; padding:15px; }

.cart-item {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
  border-bottom: 1px solid #eee;
  padding-bottom: 10px;
  position: relative;
  gap: 10px;
}

.cart-item img { width:60px; height:60px; border-radius:6px; object-fit:cover; }

.cart-item-details { flex:1; }

.delete-btn { background:none; border:none; color:#d33; font-size:16px; cursor:pointer; }

.checkout-container {
  text-align: center;
  margin: 20px 0;
}

#goToCheckout {
  padding: 12px 24px;
  font-size: 18px;
  background-color: #ff5722;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
}

#goToCheckout:hover {
  background-color: #e64a19;
</style>
</head>
<body>

<header>
  <a href="./index.html"><img src="https://files.catbox.moe/iatbhv.png" alt="Dave TopUp" /></a>
  <div class="cart-wrapper">
    <button id="currencyToggle" class="currency-toggle">USD</button>
    <div class="cart-icon" id="cartIcon" title="Voir le panier">
      <i class="fa-solid fa-cart-shopping"></i>
      <div class="cart-count" id="cartCount">0</div>
    </div>
  </div>
</header>

<!-- Cart Panel -->
<div class="cart-panel" id="cartPanel">
  <div class="cart-header">
    <h3>Panier</h3>
    <button class="close-btn" onclick="toggleCart()">&times;</button>
  </div>
  <div class="cart-items" id="cartItems"></div>
   <button id="goToCheckout" onclick="checkoutCart()">Go to Checkout</button>
</div>

<main>
  <h2>Free Fire TopUp</h2>
  <p>Rechargez votre compte Free Fire facilement et rapidement avec Dave TopUp.</p>

  <input type="number" id="ffid" placeholder="Entrez votre ID Free Fire">
  <select id="region">
    <option value="">Choisir votre r√©gion</option>
    <option value="NA">North America</option>
    <option value="BR">Brazil</option>
    <option value="ID">Indonesia</option>
    <option value="EU">Europe</option>
    <option value="ME">Middle East</option>
  </select>
  <button id="checkBtn">üîç V√©rifier le compte</button>

  <p id="playerName"></p>

  <h3>S√©lectionnez votre pack de diamants</h3>
  <div class="grid" id="diamondGrid"></div>

  <h3 style="margin-top:40px;">Abonnements</h3>
  <div class="grid" id="subscriptionGrid"></div>

  <h3 style="margin-top:40px;">Produits similaires</h3>
  <div class="grid" id="similarGrid"></div>
</main>

<div class="description">
  <h3 style="color:#2f855a;">√Ä propos du service</h3>
  <p>Obtenez vos diamants Free Fire rapidement et en toute s√©curit√© pour d√©bloquer des skins, passes, personnages, roulettes et √©v√©nements sp√©ciaux. Nous effectuons la recharge directement sur votre compte via votre UID Free Fire.</p>
</div>

<section class="owner-info">
  <h3>Informations sur le propri√©taire</h3>
  <div class="grid" id="ownerGrid"></div>
</section>

<!-- Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <h3 id="modalTitle">Titre</h3>
    <p id="modalDesc">Description du produit ou service ici...</p>
  </div>
</div>

<footer>
  ¬© 2025 Dave TopUp ‚Äî Recharge officielle Free Fire.
</footer>

<script>
// --- Player name via API ---
document.getElementById("checkBtn").addEventListener("click", async () => {
  const id = document.getElementById("ffid").value.trim();
  if (!id) return alert("Entrer votre ID Free Fire");

  const playerNameEl = document.getElementById("playerName");
  playerNameEl.textContent = "Recherche...";

  try {
    // Rele API Free Fire (mete API rey√®l ou la)
    const response = await fetch(`https://example.com/api/ff?uid=${id}`);
    if (!response.ok) throw new Error("Erreur API");
    const data = await response.json();

    if (data.username) {
      playerNameEl.innerHTML = `Nom du joueur: <b>${data.username}</b>`;
    } else {
      playerNameEl.innerHTML = `<span style="color:red;">UID non valide ou non trouv√©</span>`;
    }
  } catch (err) {
    console.error(err);
    playerNameEl.innerHTML = `<span style="color:red;">Erreur lors de la r√©cup√©ration du nom</span>`;
  }
});

// --- Diamond packs ---
const diamondPacks = [
  { qty: 100, price: 1.49, img:"https://files.catbox.moe/jfmf6k.webp", desc:"Petit pack pour d√©buter." },
  { qty: 310, price: 4.39, img:"https://files.catbox.moe/n5e0io.webp", desc:"Pack pour joueur moyen." },
  { qty: 520, price: 6.99, img:"https://files.catbox.moe/pp6969.webp", desc:"Pack standard pour booster votre compte." },
  { qty: 1060, price: 12.99, img:"https://files.catbox.moe/pyx4wh.webp", desc:"Pack premium, plus de diamants." },
  { qty: 2180, price: 25.49, img:"https://files.catbox.moe/k98v14.webp", desc:"Pack avanc√© pour les joueurs r√©guliers." },
  { qty: 5600, price: 59.99, img:"https://files.catbox.moe/cozo6z.webp", desc:"Pack elite, √©norme quantit√©." },
  { qty: 11000, price: 109.99, img:"https://files.catbox.moe/cozo6z.webp", desc:"Pack ultime pour les collectionneurs." }
];
const grid = document.getElementById("diamondGrid");
diamondPacks.forEach((p) => {
  const div = document.createElement("div");
  div.className = "card";
  div.innerHTML = `
    <img src="${p.img}" alt="Diamants ${p.qty}">
    <p>Recharge</p>
    <h3>${p.qty} üíé</h3>
    <i class="fa-solid fa-circle-info info-icon" onclick="openModal('${p.qty} üíé', '${p.desc}')"></i>
    <button onclick="addToCart('${p.qty}üíé', ${p.price}, '${p.img}')">Add to Cart - <span class='price'>$${p.price.toFixed(2)}</span></button>
  `;
  grid.appendChild(div);
});

// --- Similar products ---
const similarProducts = [
  {name:"PUBG Mobile UC", img:"https://files.catbox.moe/cmns4z.jpeg", desc:"Achetez UC pour PUBG", fb:"#", wa:"#", ig:"#"},
  {name:"Blood Strike Coins", img:"https://files.catbox.moe/bzqxuv.jpeg", desc:"Achetez des coins Blood Strike", fb:"#", wa:"#", ig:"#"},
  {name:"Call of Duty CP", img:"https://files.catbox.moe/46fnej.jpeg", desc:"Achetez CP pour COD", fb:"#", wa:"#", ig:"#"}
];
const similarGrid = document.getElementById("similarGrid");
similarProducts.forEach(p=>{
  const div = document.createElement("div");
  div.className="card";
  div.innerHTML=`
    <img src="${p.img}" alt="${p.name}">
    <p>${p.name}</p>
    <i class="fa-solid fa-circle-info info-icon" onclick="openModal('${p.name}', '${p.desc}')"></i>
    <div class="social-links">
      <a href="${p.fb}" target="_blank"><i class="fa-brands fa-facebook"></i></a>
      <a href="${p.wa}" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
      <a href="${p.ig}" target="_blank"><i class="fa-brands fa-instagram"></i></a>
    </div>
  `;
  similarGrid.appendChild(div);
});

// --- Subscriptions ---
const subscriptions = [
  {name:"EVO VAULT", img:"https://files.catbox.moe/raknb6.webp", desc:"EVO VAULT: 1738 Diamonds."},
  {name:"Abonnement Mwa", img:"https://files.catbox.moe/00jc4t.webp", desc:"Acc√®s aux packs moyens et bonus."},
  {name:"BOOYAH PASS PLUS", img:"https://files.catbox.moe/mnf0h6.webp", desc:"1276 Diamond."},
  {name:"PRIME 8 PRIVILEGES", img:"https://files.catbox.moe/btug8m.webp", desc:"203,280 Diamonds"}
];
const subscriptionGrid = document.getElementById("subscriptionGrid");
subscriptions.forEach(s=>{
  const div = document.createElement("div");
  div.className="card";
  div.innerHTML=`<img src="${s.img}" alt="${s.name}"><p>${s.name}</p><i class="fa-solid fa-circle-info info-icon" onclick="openModal('${s.name}', '${s.desc}')"></i>`;
  subscriptionGrid.appendChild(div);
})

// --- Owner grid ---
const owners = [
  {name:"DAVE", img:"https://files.catbox.moe/alice.webp", desc:"Expert Free Fire"},
  {name:"DAWENS", img:"https://files.catbox.moe/bob.webp", desc:"Gestion des commandes"},
  {name:"SKY", img:"https://files.catbox.moe/charlie.webp", desc:"Support client"}
];
const ownerGrid = document.getElementById("ownerGrid");
owners.forEach(o=>{
  const div = document.createElement("div");
  div.className="card";
  div.innerHTML=`
    <img src="${o.img}" alt="${o.name}">
    <p>${o.name}</p>
    <i class="fa-solid fa-circle-info info-icon" onclick="openModal('${o.name}', '${o.desc}')"></i>
  `;
  ownerGrid.appendChild(div);
});

// --- Modal ---
function openModal(title, desc){
  document.getElementById("modalTitle").textContent = title;
  document.getElementById("modalDesc").textContent = desc;
  document.getElementById("modal").style.display = "block";
}
function closeModal(){ document.getElementById("modal").style.display = "none"; }

// --- Cart ---
const cartIcon = document.getElementById("cartIcon");
const cartPanel = document.getElementById("cartPanel");
cartIcon.addEventListener("click", toggleCart);

function toggleCart(){
  cartPanel.classList.toggle("active");
  renderCart();
}

function addToCart(item, price, img){
  const id=document.getElementById("ffid").value.trim();
  const region=document.getElementById("region").value;
  if(!id||!region) return alert("Remplissez ID et r√©gion avant d‚Äôajouter au panier.");
  const cart=JSON.parse(localStorage.getItem("cart")||"[]");
  cart.push({item,price,id,region,img});
  localStorage.setItem("cart",JSON.stringify(cart));
  renderCart();
}

// Render cart
function renderCart(){
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  const cartItemsDiv = document.querySelector(".cart-items");
  const cartCount = document.getElementById("cartCount");
  cartItemsDiv.innerHTML = "";
  cartCount.textContent = cart.length;

  if(cart.length === 0){ 
    cartItemsDiv.innerHTML = "<p>Votre panier est vide.</p>"; 
    return; 
  }

  cart.forEach((c, i) => {
    const div = document.createElement("div");
    div.className = "cart-item";
    div.innerHTML = `
      <img src="${c.img}" alt="${c.item}">
      <div class="cart-item-details">
        <p><b>${c.item}</b></p>
        <p>ID: ${c.id} | R√©gion: ${c.region}</p>
        <p>Prix: $${c.price.toFixed(2)}</p>
      </div>
      <button class="delete-btn" onclick="removeCartItem(${i})"><i class="fa-solid fa-trash"></i></button>
    `;
    cartItemsDiv.appendChild(div);
  });
}

// Remove cart item
function removeCartItem(index){
  const cart=JSON.parse(localStorage.getItem("cart")||"[]");
  cart.splice(index,1);
  localStorage.setItem("cart",JSON.stringify(cart));
  renderCart();
}

// Go to checkout
function checkoutCart(){
  if(JSON.parse(localStorage.getItem("cart")||"[]").length === 0) return alert("Votre panier est vide !");
  window.location.href = "checkout-topup.html";
}

// --- Currency toggle ---
let isUSD=true;
const rate=132;
document.getElementById("currencyToggle").addEventListener("click",()=>{
  isUSD=!isUSD;
  const toggleBtn=document.getElementById("currencyToggle");
  toggleBtn.textContent=isUSD?"USD":"HTG";
  document.querySelectorAll(".price").forEach(p=>{
    const val=parseFloat(p.textContent.replace(/[^0-9.]/g,""));
    if(isUSD) p.textContent=`$${val.toFixed(2)}`;
    else p.textContent=`${(val*rate).toFixed(0)} G`;
  });
});
</script>
</body>
</html>