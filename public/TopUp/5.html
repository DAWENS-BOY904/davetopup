<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FC Mobile TopUp - Dave TopUp</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
/* Styles yo rete menm jan ou te mete yo */
:root{--green:#2f855a;--green-dark:#276749;--bg:#f9fafb}
body{font-family:"Poppins",sans-serif;margin:0;background:var(--bg);color:#222}
header{position:fixed;top:0;left:0;right:0;background:#fff;padding:10px 18px;box-shadow:0 1px 4px rgba(0,0,0,0.08);display:flex;align-items:center;justify-content:space-between;z-index:10}
header img{height:38px}
.currency-toggle{background:var(--green);color:#fff;border:0;border-radius:6px;padding:6px 10px;cursor:pointer}
main{padding:110px 18px 40px;max-width:980px;margin:0 auto}
h1{margin:4px 0 6px;font-size:20px}
p.lead{margin:0 0 18px;color:#444}
.hero-img{width:320px;border-radius:10px;display:block;margin:12px auto}
form .field{margin:10px auto;width:90%;max-width:560px}
input[type="text"], input[type="email"], input[type="number"], select{
  width:100%;padding:10px;border-radius:8px;border:1px solid #d0d7dc;font-size:14px;box-sizing:border-box;
}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px;margin:22px 0}
.card{background:#fff;border-radius:10px;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,0.06);position:relative}
.card img{width:100%;height:110px;object-fit:cover;border-radius:8px}
.card h3{margin:8px 0 4px;font-size:15px}
.card p{margin:0;color:#6b7280;font-size:13px}
.btn{background:var(--green);color:#fff;padding:10px 12px;border-radius:8px;border:0;cursor:pointer}
.btn:hover{background:var(--green-dark)}
.price-display{font-weight:700;color:var(--green);margin-top:8px}
.description{background:#fff;padding:18px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.06);margin:18px 0}
footer{padding:18px;text-align:center;color:#6b7280;font-size:13px}
.modal{display:none;position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.45);align-items:center;justify-content:center;z-index:50}
.modal .box{background:#fff;padding:18px;border-radius:10px;max-width:420px;width:90%}
.small{font-size:13px;color:#6b7280}
.owner-info{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:12px}
.owner-info img{width:60px;height:60px;border-radius:10px;object-fit:cover}
.note{background:#fff;padding:10px;border-radius:8px;margin-top:12px}
.cart-icon { position: relative; font-size: 22px; color: #2f855a; cursor: pointer; }
.cart-count { position: absolute; top: -6px; right: -8px; background: red; color: #fff; font-size: 12px; font-weight: bold; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; }
.cart-panel { position: fixed; top: 0; right: -400px; width: 350px; height: 100%; background: #fff; box-shadow: -3px 0 8px rgba(0,0,0,0.2); transition: right 0.3s ease; z-index: 2000; display: flex; flex-direction: column; }
.cart-panel.active { right: 0; }
.cart-header { display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 1px solid #ddd; }
.cart-header h3 { margin: 0; font-size: 18px; }
.cart-header button { background: none; border: none; font-size: 20px; cursor: pointer; color: #555; }
.cart-items { flex: 1; overflow-y: auto; padding: 15px; }
.cart-item { display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; position: relative; }
.cart-item img { width: 60px; height: 60px; border-radius: 6px; object-fit: cover; margin-right: 10px; }
.cart-item-details { flex: 1; }
.cart-item-details h4 { margin: 0; font-size: 15px; }
.cart-item-details p { margin: 2px 0; font-size: 13px; color: #555; }
.delete-btn { background: none; border: none; color: #d33; font-size: 16px; cursor: pointer; transition: transform 0.2s ease; }
.delete-btn:hover { transform: scale(1.1); }
.checkout-btn { background: #2f855a; color: #fff; border: none; padding: 12px; font-size: 16px; font-weight: bold; cursor: pointer; border-radius: 8px; margin: 15px; }
.checkout-btn:hover { background: #276749; }
.product-container { max-width: 800px; margin: 30px auto; background: #fff; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); padding: 20px; }
.product-container img { width: 100%; max-height: 400px; object-fit: cover; border-radius: 10px; }
.product-info { text-align: left; margin-top: 20px; }
.product-info h2 { margin-bottom: 8px; }
.product-info p { color: #666; font-size: 14px; margin-bottom: 10px; }
.price { color: #2f855a; font-size: 20px; font-weight: bold; margin: 10px 0; }
select, input { padding: 8px; margin-top: 6px; border: 1px solid #ccc; border-radius: 5px; }
.add-btn { display: inline-flex; align-items: center; gap: 8px; background: #2f855a; color: #fff; text-decoration: none; padding: 10px 16px; border-radius: 6px; font-size: 15px; margin-top: 15px; cursor: pointer; border: none; }
.add-btn:hover { background: #276749; }
</style>
</head>
<body>

<header>
  <a href="./index.html"><img src="https://files.catbox.moe/iatbhv.png" alt="Dave TopUp" /></a>
  <div style="display:flex;align-items:center;gap:10px">
    <button id="currencyToggle" class="currency-toggle">USD</button>
    <div class="cart-icon" id="cartIcon">
      <i class="fa-solid fa-cart-shopping"></i>
      <div class="cart-count" id="cartCount">0</div>
    </div>
  </div>
</header>

<!-- CART PANEL -->
<div class="cart-panel" id="cartPanel">
  <div class="cart-header">
    <h3>Votre Panier</h3>
    <button onclick="closeCart()"><i class="fa-solid fa-xmark"></i></button>
  </div>
  <div class="cart-items" id="cartItems"></div>
  <button class="checkout-btn" onclick="goToCheckoutFC()">Passer √† la caisse</button>
</div>

<main>
  <h1>FC Mobile ‚Äî TopUp Points</h1>
  <p class="lead">Choisissez votre pack de Points FC Mobile. Entrez UID et pseudo ‚Äî nous utilisons UID pour cr√©diter le compte via l'API (pas de mot de passe demand√©).</p>

  <img class="hero-img" src="https://files.catbox.moe/3vna2k.jpeg" alt="FC Mobile">

  <div class="description">
    <strong>Formulaire de recharge</strong>
    <div style="margin-top:12px">
      <div class="field"><input id="uid" type="text" placeholder="UID du joueur (ex: 12345678)"></div>
      <div class="field"><input id="pseudo" type="text" placeholder="Pseudo du joueur"></div>
      <div class="field"><input id="email" type="email" placeholder="Email du joueur (optionnel, pour re√ßus)"></div>

      <div class="field">
        <label for="pointsSelect" class="small">S√©lectionnez pack Points</label>
        <select id="pointsSelect"></select>
        <p id="selectedPrice" class="price-display">Prix: $0.00 / 0 G</p>
      </div>

      <div class="field">
        <label class="small">Quantity</label>
        <div style="display:flex;gap:8px;align-items:center;max-width:220px">
          <button id="qtyMinus" class="btn" style="padding:8px">-</button>
          <input id="quantity" type="number" min="1" value="1" style="flex:1;padding:8px;border-radius:8px;border:1px solid #ddd" />
          <button id="qtyPlus" class="btn" style="padding:8px">+</button>
        </div>
      </div>

      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:12px">
        <button id="checkBtn" class="btn">üîç V√©rifier le compte</button>
        <button id="addCartBtn" class="btn" onclick="addToCartFC()">‚ûï Ajouter au panier</button>
      </div>

      <p id="playerInfo" class="small" style="margin-top:8px"></p>
    </div>
  </div>

  <h2 style="margin-top:18px">Produits similaires</h2>
  <div class="grid" id="similarGrid"></div>

  <div class="description">
    <h3>Description du service</h3>
    <p class="small">
      Nous cr√©ditons les points FC Mobile via UID. Assurez-vous d'entrer le bon UID. Les comptes FC Mobile peuvent √™tre cr√©√©s via Email, Google, ou Facebook ‚Äî mais
      pour la recharge nous identifions le compte par UID (donc pas besoin de mot de passe). Si vous souhaitez v√©rification additionnelle, utilisez un syst√®me d'OTP/email
      sur backend.
    </p>
    <ul class="small">
      <li>Traitement : g√©n√©ralement 5‚Äì60 minutes selon charge.</li>
      <li>Conservez la preuve de paiement.</li>
      <li>Erreur UID = retard ou √©chec : v√©rifiez avant paiement.</li>
    </ul>
  </div>

  <div class="description">
    <h4>Owner</h4>
    <div class="owner-info">
      <img src="https://files.catbox.moe/alice.webp" alt="Owner">
      <div style="text-align:left">
        <div><strong>DaveTopUp</strong></div>
        <div class="small">Support: <a href="https://wa.me/50912345678" target="_blank">WhatsApp</a> ‚Ä¢ <a href="mailto:hello@davetopup.com">Mail</a></div>
      </div>
    </div>
  </div>
</main>

<footer>
  ¬© 2025 Dave TopUp ‚Äî FC Mobile TopUp. All rights reserved.
</footer>

<!-- Modal -->
<div id="modal" class="modal">
  <div class="box">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong id="modalTitle">Title</strong>
      <button onclick="closeModal()" class="btn" style="background:#eee;color:#333;padding:6px 8px">√ó</button>
    </div>
    <p id="modalDesc" style="margin-top:10px"></p>
  </div>
</div>

<script>
// ----- Config -----
const API_URL = "https://your-api-endpoint.com/fcmobile";
const API_KEY = "YOUR_API_KEY";
const RATE = 132;
let isUSD = true;

const pointPacks = [
  { points: 40, price: 0.64, image:"https://files.catbox.moe/fc_pack40.jpeg" },
  { points: 100, price: 1.32, image:"https://files.catbox.moe/fc_pack100.jpeg" },
  { points: 250, price: 2.69, image:"https://files.catbox.moe/fc_pack250.jpeg" },
  { points: 500, price: 4.99, image:"https://files.catbox.moe/fc_pack500.jpeg" },
  { points: 1000, price: 9.49, image:"https://files.catbox.moe/fc_pack1000.jpeg" },
  { points: 2500, price: 21.99, image:"https://files.catbox.moe/fc_pack2500.jpeg" },
  { points: 5000, price: 39.99, image:"https://files.catbox.moe/fc_pack5000.jpeg" },
  { points: 10000, price: 133.99, image:"https://files.catbox.moe/fc_pack10000.jpeg" }
];

const select = document.getElementById("pointsSelect");
pointPacks.forEach((p,i)=>{ const opt=document.createElement("option"); opt.value=i; opt.textContent=`${p.points} Points ‚Äî ${p.price.toFixed(2)} USD`; select.appendChild(opt); });

// Price display
function updatePriceDisplay(){
  const sel = pointPacks[select.value];
  const qty = parseInt(document.getElementById("quantity").value||"1",10);
  const totalUSD = sel.price*qty;
  const totalHTG = Math.round(totalUSD*RATE);
  const display = isUSD ? `$${totalUSD.toFixed(2)} / ${sel.points*qty} pts` : `${totalHTG} G / ${sel.points*qty} pts`;
  document.getElementById("selectedPrice").textContent = `Prix: ${display}`;
}
select.addEventListener("change",updatePriceDisplay);
document.getElementById("quantity").addEventListener("input",updatePriceDisplay);
updatePriceDisplay();

// Currency toggle
document.getElementById("currencyToggle").addEventListener("click",()=>{
  isUSD=!isUSD;
  document.getElementById("currencyToggle").textContent=isUSD?"USD":"HTG";
  updatePriceDisplay();
});

// Qty +/-
document.getElementById("qtyPlus").addEventListener("click",()=>{
  const q=document.getElementById("quantity"); q.value=Math.max(1,parseInt(q.value||"1",10)+1); updatePriceDisplay();
});
document.getElementById("qtyMinus").addEventListener("click",()=>{
  const q=document.getElementById("quantity"); q.value=Math.max(1,parseInt(q.value||"1",10)-1); updatePriceDisplay();
});

// Verify
document.getElementById("checkBtn").addEventListener("click",async()=>{
  const uid=document.getElementById("uid").value.trim();
  const pseudo=document.getElementById("pseudo").value.trim();
  if(!uid||!pseudo){ alert("Entrez UID et Pseudo."); return; }
  const info=document.getElementById("playerInfo");
  info.textContent="V√©rification en cours...";
  try{
    const res=await fetch(`${API_URL}/check?uid=${encodeURIComponent(uid)}&pseudo=${encodeURIComponent(pseudo)}&key=${API_KEY}`);
    const data=await res.json();
    if(data.success){ info.innerHTML=`Compte trouv√© : <strong>${data.pseudo||pseudo}</strong> ‚Äî Niveau : ${data.level||"N/A"}`; }
    else{ info.textContent="Compte non trouv√© ‚Äî v√©rifiez UID et Pseudo."; }
  }catch(e){ console.error(e); info.textContent="Erreur de connexion au serveur."; }
});

// Cart
let cart = JSON.parse(localStorage.getItem('cart')||'[]');
function updateCartCount(){ document.getElementById('cartCount').textContent=cart.reduce((a,b)=>a+b.quantity,0); }
updateCartCount();

function addToCartFC(){
  const uid=document.getElementById('uid').value.trim();
  const pseudo=document.getElementById('pseudo').value.trim();
  const email=document.getElementById('email').value.trim();
  const packSelect=document.getElementById('pointsSelect').value;
  const qty=parseInt(document.getElementById('quantity').value);

  if(!uid||!pseudo){ alert("UID et Pseudo obligatoires !"); return; }
  const pack=pointPacks[packSelect];
  const product={ id:Date.now(), uid,pseudo,email,points:pack.points,quantity:qty,price:pack.price,image:pack.image };
  cart.push(product);
  localStorage.setItem('cart',JSON.stringify(cart));
  updateCartCount(); renderCartFC(); openCart();
}

function renderCartFC(){
  const cartItems=document.getElementById('cartItems');
  cartItems.innerHTML="";
  cart.forEach(item=>{
    const div=document.createElement('div');
    div.classList.add('cart-item');
    div.innerHTML=`
      <img src="${item.image}" alt="${item.points} Points">
      <div class="cart-item-details">
        <h4>${item.points} Points FC Mobile</h4>
        <p>UID: ${item.uid}</p>
        <p>Pseudo: ${item.pseudo}</p>
        ${item.email?`<p>Email: ${item.email}</p>`:""}
        <p>Quantit√©: ${item.quantity}</p>
        <p><strong>$${(item.price*item.quantity).toFixed(2)}</strong></p>
      </div>
      <button class="delete-btn" onclick="removeFromCartFC(${item.id})"><i class="fa-solid fa-trash"></i></button>
    `;
    cartItems.appendChild(div);
  });
}

function removeFromCartFC(id){ cart=cart.filter(i=>i.id!==id); localStorage.setItem('cart',JSON.stringify(cart)); updateCartCount(); renderCartFC(); }
function openCart(){ document.getElementById('cartPanel').classList.add('active'); }
function closeCart(){ document.getElementById('cartPanel').classList.remove('active'); }
document.getElementById('cartIcon').addEventListener('click',openCart);
function goToCheckoutFC(){ if(cart.length===0){ alert("Votre panier est vide !"); return; } localStorage.setItem('cart',JSON.stringify(cart)); window.location.href='checkout.html'; }

// Similar products
function escapeHtml(str){ return str.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
const similar=[ {name:"Skin Pack A",img:"https://files.catbox.moe/cmns4z.jpeg",desc:"Pack skin limit√©."}, {name:"Boost XP",img:"https://files.catbox.moe/bzqxuv.jpeg",desc:"Boost d'XP 7 jours."}, {name:"Event Pass",img:"https://files.catbox.moe/46fnej.jpeg",desc:"Pass d'√©v√©nement premium."}];
const simGrid=document.getElementById("similarGrid");
similar.forEach(p=>{
  const d=document.createElement("div");
  d.className="card";
  d.innerHTML=`<img src="${p.img}" alt="${p.name}"><h3>${p.name}</h3><p>${p.desc}</p>
    <button class="btn" onclick="openModal('${escapeHtml(p.name)}','${escapeHtml(p.desc)}')">Info</button>`;
  simGrid.appendChild(d);
});

// Comments
async function loadComments(){
  const out=document.getElementById("commentsSection"); out.innerHTML="<em>Chargement des commentaires...</em>";
  try{
    const res=await fetch(`${API_URL}/comments?key=${API_KEY}`);
    const data=await res.json();
    if(!data.comments){ out.innerHTML="<small>Aucun commentaire.</small>"; return; }
    out.innerHTML=data.comments.map(c=>`<div style="margin-bottom:8px"><strong>${escapeHtml(c.name)}</strong> (${escapeHtml(c.email)})<div class="small">${escapeHtml(c.comment)}</div></div>`).join("");
  }catch(e){ out.innerHTML="<small>Impossible de charger les commentaires.</small>"; console.error(e); }
}
loadComments();

// Modal
function openModal(title,desc){ document.getElementById("modalTitle").textContent=title; document.getElementById("modalDesc").textContent=desc; document.getElementById("modal").style.display="flex"; }
function closeModal(){ document.getElementById("modal").style.display="none"; }
</script>
</body>
</html>